<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cypress Industrial Flex: Advanced Tax Strategy Infographic</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <!-- Plotly.js -->
    <script src="https://cdn.plot.ly/plotly-2.27.0.min.js"></script>
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;700;900&display=swap" rel="stylesheet">

    <style>
        body {
            font-family: 'Roboto', sans-serif;
            background-color: #f3f4f6; /* Slate 100 */
        }

        /* Chart Container Logic per Requirements */
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 100%; /* Parent controls width via grid/padding */
            margin-left: auto;
            margin-right: auto;
            height: 400px;
            max-height: 450px;
        }

        @media (max-width: 768px) {
            .chart-container {
                height: 300px;
            }
        }

        /* Custom Scrollbar */
        ::-webkit-scrollbar {
            width: 10px;
        }
        ::-webkit-scrollbar-track {
            background: #e2e8f0;
        }
        ::-webkit-scrollbar-thumb {
            background: #0ea5e9;
            border-radius: 5px;
        }

        /* Palette Definition comments
           Selected Palette: "Electric Blue & Orange"
           Primary: #0f172a (Slate 900 - Backgrounds/Text)
           Secondary: #0ea5e9 (Sky 500 - Main Bars/Charts)
           Accent: #f97316 (Orange 500 - Highlights/Calls to Action)
           Success: #22c55e (Green 500 - Positive Cash Flow)
        */
        
        .card-shadow {
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
        }

        /* Floating AI Panel Style */
        #ai-panel {
            position: fixed;
            bottom: 20px;
            right: 20px;
            width: 300px;
            max-height: 80vh;
            background-color: white;
            border-radius: 12px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
            z-index: 1000;
            display: flex;
            flex-direction: column;
            border-top: 5px solid #2D7DD2;
        }
        #ai-panel.collapsed {
            max-height: 50px;
            overflow: hidden;
            width: 250px;
        }

    </style>
    <!-- 
        NO MERMAID JS USED IN THIS DOCUMENT.
        Source Material Analysis:
        1. Analyzed Property: 13101 Kathy Ln, Cypress, TX. 
        2. Financials: $1.37M purchase, $421.6K TI, $16.20 NNN Rent.
        3. Tax Law: Focus on TCJA/CARES Act (QIP Fix) allowing 15yr recovery + Bonus Depreciation.
        4. Narrative: Introduce Asset -> Explain Challenge (Tax) -> Reveal Solution (QIP/Bonus) -> Quantify Results.
        5. Visual Choice: 
           - Waterfall (Plotly): To show the breakdown of the basis.
           - Bar Chart (ChartJS): To compare Year 1 Deductions (Huge contrast).
           - Stacked Area (ChartJS): To show tax shield over time.
           - HTML Flowchart: For QIP definition.
    -->
</head>
<body class="text-slate-800">

    <!-- HERO SECTION -->
<header class="bg-white shadow-md sticky top-0 z-50">
        <div class="max-w-7xl mx-auto px-4 py-1 flex justify-between items-center">
            <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="144" zoomAndPan="magnify" viewBox="0 0 1326.75 809.999993" height="80" preserveAspectRatio="xMidYMid meet" version="1.0"><defs><clipPath id="a7aea2d296"><path d="M 0 0.078125 L 1326.5 0.078125 L 1326.5 809.921875 L 0 809.921875 Z M 0 0.078125 " clip-rule="nonzero"/></clipPath><clipPath id="44e89ef9c6"><path d="M 15.363281 713.296875 L 21.933594 713.296875 L 21.933594 803.445312 L 15.363281 803.445312 Z M 15.363281 713.296875 " clip-rule="nonzero"/></clipPath><clipPath id="3bef51b6e2"><path d="M 0.363281 0.296875 L 6.933594 0.296875 L 6.933594 90.445312 L 0.363281 90.445312 Z M 0.363281 0.296875 " clip-rule="nonzero"/></clipPath><clipPath id="2cd4bc8312"><rect x="0" width="7" y="0" height="91"/></clipPath><clipPath id="2ecb9c7d61"><path d="M 13.402344 402 L 190.921875 402 L 190.921875 651 L 13.402344 651 Z M 13.402344 402 " clip-rule="nonzero"/></clipPath><clipPath id="6c2cdd6e1d"><path d="M 51.390625 641.683594 C 35.160156 635.5 22.503906 627.503906 13.402344 617.695312 L 21.460938 604.390625 C 30.089844 613.492188 41.707031 620.90625 56.300781 626.621094 C 70.894531 632.335938 86.242188 635.203125 102.347656 635.203125 C 125.679688 635.203125 143.3125 630.773438 155.214844 621.898438 C 167.117188 613.019531 173.066406 601.476562 173.066406 587.234375 C 173.066406 576.261719 169.917969 567.507812 163.617188 560.972656 C 157.320312 554.441406 149.496094 549.417969 140.160156 545.921875 C 130.824219 542.425781 118.21875 538.804688 102.347656 535.074219 C 84.371094 530.648438 69.964844 526.320312 59.101562 522.117188 C 48.242188 517.914062 39.015625 511.429688 31.429688 502.675781 C 23.84375 493.925781 20.0625 482.195312 20.0625 467.492188 C 20.0625 455.589844 23.210938 444.679688 29.519531 434.746094 C 35.832031 424.816406 45.441406 416.957031 58.394531 411.117188 C 71.351562 405.277344 87.507812 402.363281 106.886719 402.363281 C 120.425781 402.363281 133.726562 404.347656 146.808594 408.316406 C 159.886719 412.28125 171.195312 417.652344 180.765625 424.417969 L 174.109375 438.777344 C 164.300781 432.007812 153.503906 426.875 141.722656 423.367188 C 129.945312 419.855469 118.316406 418.109375 106.886719 418.109375 C 84.246094 418.109375 67.085938 422.660156 55.421875 431.757812 C 43.753906 440.859375 37.914062 452.664062 37.914062 467.132812 C 37.914062 478.105469 41.0625 486.855469 47.363281 493.390625 C 53.660156 499.925781 61.484375 504.945312 70.820312 508.441406 C 80.15625 511.9375 92.875 515.683594 108.980469 519.648438 C 126.945312 524.089844 141.316406 528.402344 152.050781 532.605469 C 162.789062 536.808594 171.949219 543.167969 179.539062 551.6875 C 187.125 560.203125 190.917969 571.710938 190.917969 586.179688 C 190.917969 598.082031 187.707031 608.941406 181.285156 618.738281 C 174.863281 628.53125 165.007812 636.367188 151.703125 642.195312 C 138.402344 648.019531 122.058594 650.945312 102.683594 650.945312 C 84.703125 650.945312 67.609375 647.859375 51.390625 641.671875 " clip-rule="nonzero"/></clipPath><clipPath id="bbf5a2df18"><path d="M 0.402344 0.242188 L 177.921875 0.242188 L 177.921875 249 L 0.402344 249 Z M 0.402344 0.242188 " clip-rule="nonzero"/></clipPath><clipPath id="64c0fefbdf"><path d="M 38.390625 239.683594 C 22.160156 233.5 9.503906 225.503906 0.402344 215.695312 L 8.460938 202.390625 C 17.089844 211.492188 28.707031 218.90625 43.300781 224.621094 C 57.894531 230.335938 73.242188 233.203125 89.347656 233.203125 C 112.679688 233.203125 130.3125 228.773438 142.214844 219.898438 C 154.117188 211.019531 160.066406 199.476562 160.066406 185.234375 C 160.066406 174.261719 156.917969 165.507812 150.617188 158.972656 C 144.320312 152.441406 136.496094 147.417969 127.160156 143.921875 C 117.824219 140.425781 105.21875 136.804688 89.347656 133.074219 C 71.371094 128.648438 56.964844 124.320312 46.101562 120.117188 C 35.242188 115.914062 26.015625 109.429688 18.429688 100.675781 C 10.84375 91.925781 7.0625 80.195312 7.0625 65.492188 C 7.0625 53.589844 10.210938 42.679688 16.519531 32.746094 C 22.832031 22.816406 32.441406 14.957031 45.394531 9.117188 C 58.351562 3.277344 74.507812 0.363281 93.886719 0.363281 C 107.425781 0.363281 120.726562 2.347656 133.808594 6.316406 C 146.886719 10.28125 158.195312 15.652344 167.765625 22.417969 L 161.109375 36.777344 C 151.300781 30.007812 140.503906 24.875 128.722656 21.367188 C 116.945312 17.855469 105.316406 16.109375 93.886719 16.109375 C 71.246094 16.109375 54.085938 20.660156 42.421875 29.757812 C 30.753906 38.859375 24.914062 50.664062 24.914062 65.132812 C 24.914062 76.105469 28.0625 84.855469 34.363281 91.390625 C 40.660156 97.925781 48.484375 102.945312 57.820312 106.441406 C 67.15625 109.9375 79.875 113.683594 95.980469 117.648438 C 113.945312 122.089844 128.316406 126.402344 139.050781 130.605469 C 149.789062 134.808594 158.949219 141.167969 166.539062 149.6875 C 174.125 158.203125 177.917969 169.710938 177.917969 184.179688 C 177.917969 196.082031 174.707031 206.941406 168.285156 216.738281 C 161.863281 226.53125 152.007812 234.367188 138.703125 240.195312 C 125.402344 246.019531 109.058594 248.945312 89.683594 248.945312 C 71.703125 248.945312 54.609375 245.859375 38.390625 239.671875 " clip-rule="nonzero"/></clipPath><clipPath id="88ec35992f"><rect x="0" width="178" y="0" height="249"/></clipPath><clipPath id="9e581b23d7"><path d="M 92.25 713.296875 L 165.941406 713.296875 L 165.941406 803.625 L 92.25 803.625 Z M 92.25 713.296875 " clip-rule="nonzero"/></clipPath><clipPath id="1ce641eddb"><path d="M 165.660156 713.296875 L 165.660156 803.445312 L 160.253906 803.445312 L 98.820312 725.152344 L 98.820312 803.445312 L 92.25 803.445312 L 92.25 713.296875 L 97.789062 713.296875 L 159.085938 791.605469 L 159.085938 713.296875 Z M 165.660156 713.296875 " clip-rule="nonzero"/></clipPath><clipPath id="7193426e70"><path d="M 0.25 0.296875 L 73.808594 0.296875 L 73.808594 90.625 L 0.25 90.625 Z M 0.25 0.296875 " clip-rule="nonzero"/></clipPath><clipPath id="72fd82e75a"><path d="M 73.660156 0.296875 L 73.660156 90.445312 L 68.253906 90.445312 L 6.820312 12.152344 L 6.820312 90.445312 L 0.25 90.445312 L 0.25 0.296875 L 5.789062 0.296875 L 67.085938 78.605469 L 67.085938 0.296875 Z M 73.660156 0.296875 " clip-rule="nonzero"/></clipPath><clipPath id="7d3766968d"><rect x="0" width="74" y="0" height="91"/></clipPath><clipPath id="e27fd92549"><path d="M 219.875 713.296875 L 306.804688 713.296875 L 306.804688 803.625 L 219.875 803.625 Z M 219.875 713.296875 " clip-rule="nonzero"/></clipPath><clipPath id="7fae90bc3d"><path d="M 306.800781 713.296875 L 266.628906 803.445312 L 260.058594 803.445312 L 219.875 713.296875 L 227.089844 713.296875 L 263.542969 794.953125 L 299.980469 713.296875 Z M 306.800781 713.296875 " clip-rule="nonzero"/></clipPath><clipPath id="7394b204b9"><path d="M 0.875 0.296875 L 87.804688 0.296875 L 87.804688 90.625 L 0.875 90.625 Z M 0.875 0.296875 " clip-rule="nonzero"/></clipPath><clipPath id="314f97784b"><path d="M 87.800781 0.296875 L 47.628906 90.445312 L 41.058594 90.445312 L 0.875 0.296875 L 8.089844 0.296875 L 44.542969 81.953125 L 80.980469 0.296875 Z M 87.800781 0.296875 " clip-rule="nonzero"/></clipPath><clipPath id="81e51ee4d7"><rect x="0" width="88" y="0" height="91"/></clipPath><clipPath id="f55532105f"><path d="M 360.25 713.296875 L 420.519531 713.296875 L 420.519531 719.226562 L 360.25 719.226562 Z M 360.25 719.226562 L 366.824219 719.226562 L 366.824219 754.769531 L 360.25 754.769531 Z M 360.25 754.769531 L 414.851562 754.769531 L 414.851562 760.574219 L 360.25 760.574219 Z M 360.25 760.574219 L 366.824219 760.574219 L 366.824219 797.519531 L 360.25 797.519531 Z M 360.25 797.519531 L 422.453125 797.519531 L 422.453125 803.445312 L 360.25 803.445312 Z M 360.25 797.519531 " clip-rule="nonzero"/></clipPath><clipPath id="7deb7ca026"><path d="M 0.25 0.296875 L 60.519531 0.296875 L 60.519531 6.226562 L 0.25 6.226562 Z M 0.25 6.226562 L 6.824219 6.226562 L 6.824219 41.769531 L 0.25 41.769531 Z M 0.25 41.769531 L 54.851562 41.769531 L 54.851562 47.574219 L 0.25 47.574219 Z M 0.25 47.574219 L 6.824219 47.574219 L 6.824219 84.519531 L 0.25 84.519531 Z M 0.25 84.519531 L 62.453125 84.519531 L 62.453125 90.445312 L 0.25 90.445312 Z M 0.25 84.519531 " clip-rule="nonzero"/></clipPath><clipPath id="13d28aca74"><rect x="0" width="63" y="0" height="91"/></clipPath><clipPath id="e221146232"><path d="M 271.101562 404.113281 L 520.984375 404.113281 L 520.984375 650 L 271.101562 650 Z M 271.101562 404.113281 " clip-rule="nonzero"/></clipPath><clipPath id="ad7cfda73f"><path d="M 502.898438 649.210938 L 502.550781 439.484375 L 399.957031 616.65625 L 391.203125 616.65625 L 288.609375 440.179688 L 288.609375 649.210938 L 271.101562 649.210938 L 271.101562 404.113281 L 286.152344 404.113281 L 395.738281 593.53125 L 505.339844 404.113281 L 520.042969 404.113281 L 520.390625 649.210938 Z M 502.898438 649.210938 " clip-rule="nonzero"/></clipPath><clipPath id="7c6f0f8198"><path d="M 0.101562 0.113281 L 249.460938 0.113281 L 249.460938 245.394531 L 0.101562 245.394531 Z M 0.101562 0.113281 " clip-rule="nonzero"/></clipPath><clipPath id="b2beb1c7e1"><path d="M 231.898438 245.210938 L 231.550781 35.484375 L 128.957031 212.65625 L 120.203125 212.65625 L 17.609375 36.179688 L 17.609375 245.210938 L 0.101562 245.210938 L 0.101562 0.113281 L 15.152344 0.113281 L 124.738281 189.53125 L 234.339844 0.113281 L 249.042969 0.113281 L 249.390625 245.210938 Z M 231.898438 245.210938 " clip-rule="nonzero"/></clipPath><clipPath id="31787b5efd"><rect x="0" width="250" y="0" height="246"/></clipPath><clipPath id="18b91693fa"><path d="M 476.160156 712.65625 L 541.453125 712.65625 L 541.453125 804.222656 L 476.160156 804.222656 Z M 476.160156 712.65625 " clip-rule="nonzero"/></clipPath><clipPath id="9b1eb28081"><path d="M 490.132812 800.683594 C 484.167969 798.402344 479.507812 795.460938 476.160156 791.855469 L 479.121094 786.957031 C 482.296875 790.304688 486.574219 793.03125 491.929688 795.140625 C 497.285156 797.246094 502.9375 798.300781 508.863281 798.300781 C 517.445312 798.300781 523.941406 796.675781 528.316406 793.40625 C 532.695312 790.132812 534.886719 785.890625 534.886719 780.660156 C 534.886719 776.628906 533.734375 773.40625 531.417969 771 C 529.097656 768.59375 526.222656 766.75 522.789062 765.457031 C 519.355469 764.167969 514.71875 762.84375 508.878906 761.464844 C 502.269531 759.832031 496.960938 758.242188 492.96875 756.707031 C 488.976562 755.167969 485.59375 752.777344 482.804688 749.550781 C 480.015625 746.328125 478.613281 742.027344 478.613281 736.609375 C 478.613281 732.230469 479.777344 728.214844 482.097656 724.570312 C 484.414062 720.925781 487.949219 718.023438 492.710938 715.878906 C 497.472656 713.734375 503.421875 712.65625 510.539062 712.65625 C 515.523438 712.65625 520.40625 713.386719 525.21875 714.835938 C 530.027344 716.289062 534.183594 718.273438 537.714844 720.761719 L 535.273438 726.046875 C 531.664062 723.554688 527.699219 721.667969 523.359375 720.378906 C 519.019531 719.089844 514.753906 718.445312 510.539062 718.445312 C 502.207031 718.445312 495.894531 720.117188 491.605469 723.464844 C 487.316406 726.8125 485.171875 731.152344 485.171875 736.472656 C 485.171875 740.515625 486.324219 743.726562 488.644531 746.128906 C 490.960938 748.535156 493.839844 750.382812 497.273438 751.671875 C 500.707031 752.960938 505.382812 754.335938 511.308594 755.789062 C 517.914062 757.425781 523.195312 759.011719 527.152344 760.550781 C 531.105469 762.085938 534.46875 764.429688 537.257812 767.566406 C 540.046875 770.703125 541.445312 774.929688 541.445312 780.25 C 541.445312 784.625 540.269531 788.617188 537.902344 792.226562 C 535.535156 795.835938 531.914062 798.710938 527.015625 800.855469 C 522.117188 803 516.117188 804.078125 508.988281 804.078125 C 502.367188 804.078125 496.082031 802.9375 490.117188 800.667969 " clip-rule="nonzero"/></clipPath><clipPath id="f8684c24cb"><path d="M 0.160156 0.65625 L 65.453125 0.65625 L 65.453125 92 L 0.160156 92 Z M 0.160156 0.65625 " clip-rule="nonzero"/></clipPath><clipPath id="404962685b"><path d="M 14.132812 88.683594 C 8.167969 86.402344 3.507812 83.460938 0.160156 79.855469 L 3.121094 74.957031 C 6.296875 78.304688 10.574219 81.03125 15.929688 83.140625 C 21.285156 85.246094 26.9375 86.300781 32.863281 86.300781 C 41.445312 86.300781 47.941406 84.675781 52.316406 81.40625 C 56.695312 78.132812 58.886719 73.890625 58.886719 68.660156 C 58.886719 64.628906 57.734375 61.40625 55.417969 59 C 53.097656 56.59375 50.222656 54.75 46.789062 53.457031 C 43.355469 52.167969 38.71875 50.84375 32.878906 49.464844 C 26.269531 47.832031 20.960938 46.242188 16.96875 44.707031 C 12.976562 43.167969 9.59375 40.777344 6.804688 37.550781 C 4.015625 34.328125 2.613281 30.027344 2.613281 24.609375 C 2.613281 20.230469 3.777344 16.214844 6.097656 12.570312 C 8.414062 8.925781 11.949219 6.023438 16.710938 3.878906 C 21.472656 1.734375 27.421875 0.65625 34.539062 0.65625 C 39.523438 0.65625 44.40625 1.386719 49.21875 2.835938 C 54.027344 4.289062 58.183594 6.273438 61.714844 8.761719 L 59.273438 14.046875 C 55.664062 11.554688 51.699219 9.667969 47.359375 8.378906 C 43.019531 7.089844 38.753906 6.445312 34.539062 6.445312 C 26.207031 6.445312 19.894531 8.117188 15.605469 11.464844 C 11.316406 14.8125 9.171875 19.152344 9.171875 24.472656 C 9.171875 28.515625 10.324219 31.726562 12.644531 34.128906 C 14.960938 36.535156 17.839844 38.382812 21.273438 39.671875 C 24.707031 40.960938 29.382812 42.335938 35.308594 43.789062 C 41.914062 45.425781 47.195312 47.011719 51.152344 48.550781 C 55.105469 50.085938 58.46875 52.429688 61.257812 55.566406 C 64.046875 58.703125 65.445312 62.929688 65.445312 68.25 C 65.445312 72.625 64.269531 76.617188 61.902344 80.226562 C 59.535156 83.835938 55.914062 86.710938 51.015625 88.855469 C 46.117188 91 40.117188 92.078125 32.988281 92.078125 C 26.367188 92.078125 20.082031 90.9375 14.117188 88.667969 " clip-rule="nonzero"/></clipPath><clipPath id="e07bc4ec38"><rect x="0" width="66" y="0" height="93"/></clipPath><clipPath id="a5dcc67e61"><path d="M 586.140625 713.296875 L 657.617188 713.296875 L 657.617188 803.484375 L 586.140625 803.484375 Z M 586.140625 713.296875 " clip-rule="nonzero"/></clipPath><clipPath id="d5e8adca2e"><path d="M 618.597656 719.226562 L 586.140625 719.226562 L 586.140625 713.296875 L 657.613281 713.296875 L 657.613281 719.226562 L 625.15625 719.226562 L 625.15625 803.445312 L 618.585938 803.445312 Z M 618.597656 719.226562 " clip-rule="nonzero"/></clipPath><clipPath id="f815b28a68"><path d="M 0.140625 0.296875 L 71.617188 0.296875 L 71.617188 90.484375 L 0.140625 90.484375 Z M 0.140625 0.296875 " clip-rule="nonzero"/></clipPath><clipPath id="0e82dff6d6"><path d="M 32.597656 6.226562 L 0.140625 6.226562 L 0.140625 0.296875 L 71.613281 0.296875 L 71.613281 6.226562 L 39.15625 6.226562 L 39.15625 90.445312 L 32.585938 90.445312 Z M 32.597656 6.226562 " clip-rule="nonzero"/></clipPath><clipPath id="91a568471b"><rect x="0" width="72" y="0" height="91"/></clipPath><clipPath id="095dfe3ad2"><path d="M 584.472656 404.113281 L 827.816406 404.113281 L 827.816406 649.359375 L 584.472656 649.359375 Z M 584.472656 404.113281 " clip-rule="nonzero"/></clipPath><clipPath id="3966f90394"><path d="M 770.394531 565.179688 L 705.976562 423.726562 L 641.902344 565.179688 Z M 777.054688 580.230469 L 634.894531 580.230469 L 603.726562 649.214844 L 584.472656 649.214844 L 697.222656 404.113281 L 715.074219 404.113281 L 827.8125 649.214844 L 808.558594 649.214844 Z M 777.054688 580.230469 " clip-rule="nonzero"/></clipPath><clipPath id="94f8a744f6"><path d="M 0.472656 0.113281 L 243.816406 0.113281 L 243.816406 245.359375 L 0.472656 245.359375 Z M 0.472656 0.113281 " clip-rule="nonzero"/></clipPath><clipPath id="8702aec191"><path d="M 186.394531 161.179688 L 121.976562 19.726562 L 57.902344 161.179688 Z M 193.054688 176.230469 L 50.894531 176.230469 L 19.726562 245.214844 L 0.472656 245.214844 L 113.222656 0.113281 L 131.074219 0.113281 L 243.8125 245.214844 L 224.558594 245.214844 Z M 193.054688 176.230469 " clip-rule="nonzero"/></clipPath><clipPath id="a553f6fd46"><rect x="0" width="244" y="0" height="246"/></clipPath><clipPath id="3fd25fc510"><path d="M 712.734375 713.300781 L 804.644531 713.300781 L 804.644531 803.449219 L 712.734375 803.449219 Z M 712.734375 713.300781 " clip-rule="nonzero"/></clipPath><clipPath id="94c918d9ee"><path d="M 797.996094 803.445312 L 797.875 726.304688 L 760.132812 791.46875 L 756.910156 791.46875 L 719.171875 726.566406 L 719.171875 803.445312 L 712.734375 803.445312 L 712.734375 713.300781 L 718.277344 713.300781 L 758.582031 782.976562 L 798.890625 713.300781 L 804.296875 713.300781 L 804.421875 803.445312 Z M 797.996094 803.445312 " clip-rule="nonzero"/></clipPath><clipPath id="0b2a93aecd"><path d="M 0.734375 0.300781 L 92.570312 0.300781 L 92.570312 90.449219 L 0.734375 90.449219 Z M 0.734375 0.300781 " clip-rule="nonzero"/></clipPath><clipPath id="c5783ee46e"><path d="M 85.996094 90.445312 L 85.875 13.304688 L 48.132812 78.46875 L 44.910156 78.46875 L 7.171875 13.566406 L 7.171875 90.445312 L 0.734375 90.445312 L 0.734375 0.300781 L 6.277344 0.300781 L 46.582031 69.976562 L 86.890625 0.300781 L 92.296875 0.300781 L 92.421875 90.445312 Z M 85.996094 90.445312 " clip-rule="nonzero"/></clipPath><clipPath id="7b65255d32"><rect x="0" width="93" y="0" height="91"/></clipPath><clipPath id="c574c30233"><path d="M 293 235.230469 L 943 235.230469 L 943 251.308594 L 293 251.308594 Z M 293 235.230469 " clip-rule="nonzero"/></clipPath><clipPath id="3cba7c9c63"><path d="M 293.03125 243.378906 C 347.148438 240.378906 401.265625 238.355469 455.382812 237.339844 C 509.503906 236.101562 563.621094 235.765625 617.738281 235.617188 C 671.855469 235.753906 725.972656 236.089844 780.09375 237.316406 C 834.210938 238.332031 888.328125 240.367188 942.445312 243.378906 C 888.328125 246.402344 834.210938 248.425781 780.09375 249.441406 C 725.972656 250.679688 671.855469 251.003906 617.738281 251.140625 C 563.621094 250.992188 509.503906 250.65625 455.382812 249.414062 C 401.265625 248.386719 347.148438 246.378906 293.03125 243.378906 " clip-rule="nonzero"/></clipPath><clipPath id="6b649479b7"><path d="M 0 0.472656 L 649.542969 0.472656 L 649.542969 16.308594 L 0 16.308594 Z M 0 0.472656 " clip-rule="nonzero"/></clipPath><clipPath id="cd7d85af9d"><path d="M 0.03125 8.378906 C 54.148438 5.378906 108.265625 3.355469 162.382812 2.339844 C 216.503906 1.101562 270.621094 0.765625 324.738281 0.617188 C 378.855469 0.753906 432.972656 1.089844 487.09375 2.316406 C 541.210938 3.332031 595.328125 5.367188 649.445312 8.378906 C 595.328125 11.402344 541.210938 13.425781 487.09375 14.441406 C 432.972656 15.679688 378.855469 16.003906 324.738281 16.140625 C 270.621094 15.992188 216.503906 15.65625 162.382812 14.414062 C 108.265625 13.386719 54.148438 11.378906 0.03125 8.378906 " clip-rule="nonzero"/></clipPath><clipPath id="55985a6758"><rect x="0" width="650" y="0" height="17"/></clipPath><clipPath id="f50726d65a"><path d="M 411 6.105469 L 638 6.105469 L 638 244 L 411 244 Z M 411 6.105469 " clip-rule="nonzero"/></clipPath><clipPath id="9acb31733f"><path d="M 637.871094 243.378906 L 637.871094 6.277344 L 411.183594 94.003906 L 411.183594 243.378906 Z M 637.871094 243.378906 " clip-rule="nonzero"/></clipPath><clipPath id="9e158738b9"><path d="M 0.0429688 0.105469 L 227 0.105469 L 227 237.390625 L 0.0429688 237.390625 Z M 0.0429688 0.105469 " clip-rule="nonzero"/></clipPath><clipPath id="d13e669577"><path d="M 226.871094 237.378906 L 226.871094 0.277344 L 0.183594 88.003906 L 0.183594 237.378906 Z M 226.871094 237.378906 " clip-rule="nonzero"/></clipPath><clipPath id="a8ce28af4c"><rect x="0" width="227" y="0" height="238"/></clipPath><clipPath id="cc51db71af"><path d="M 642 6.105469 L 778 6.105469 L 778 247 L 642 247 Z M 642 6.105469 " clip-rule="nonzero"/></clipPath><clipPath id="eb468a7706"><path d="M 642.71875 6.277344 L 642.71875 14.222656 L 769.863281 41.683594 L 769.863281 239.050781 L 642.71875 239.050781 L 642.71875 239.894531 C 642.71875 242.375 642.472656 244.679688 642.050781 246.824219 L 777.636719 246.824219 L 777.636719 35.410156 Z M 642.71875 6.277344 " clip-rule="nonzero"/></clipPath><clipPath id="7ddafc389a"><path d="M 0 0.105469 L 135.695312 0.105469 L 135.695312 240.988281 L 0 240.988281 Z M 0 0.105469 " clip-rule="nonzero"/></clipPath><clipPath id="bf38608b0f"><path d="M 0.71875 0.277344 L 0.71875 8.222656 L 127.863281 35.683594 L 127.863281 233.050781 L 0.71875 233.050781 L 0.71875 233.894531 C 0.71875 236.375 0.472656 238.679688 0.0507812 240.824219 L 135.636719 240.824219 L 135.636719 29.410156 Z M 0.71875 0.277344 " clip-rule="nonzero"/></clipPath><clipPath id="f8fdce43a2"><rect x="0" width="136" y="0" height="241"/></clipPath><clipPath id="3e6a1b551c"><path d="M 874.75 713.296875 L 935.015625 713.296875 L 935.015625 719.226562 L 874.75 719.226562 Z M 874.75 719.226562 L 881.320312 719.226562 L 881.320312 754.769531 L 874.75 754.769531 Z M 874.75 754.769531 L 929.351562 754.769531 L 929.351562 760.574219 L 874.75 760.574219 Z M 874.75 760.574219 L 881.320312 760.574219 L 881.320312 797.519531 L 874.75 797.519531 Z M 874.75 797.519531 L 936.949219 797.519531 L 936.949219 803.445312 L 874.75 803.445312 Z M 874.75 797.519531 " clip-rule="nonzero"/></clipPath><clipPath id="76372d9d39"><path d="M 0.75 0.296875 L 61.015625 0.296875 L 61.015625 6.226562 L 0.75 6.226562 Z M 0.75 6.226562 L 7.320312 6.226562 L 7.320312 41.769531 L 0.75 41.769531 Z M 0.75 41.769531 L 55.351562 41.769531 L 55.351562 47.574219 L 0.75 47.574219 Z M 0.75 47.574219 L 7.320312 47.574219 L 7.320312 84.519531 L 0.75 84.519531 Z M 0.75 84.519531 L 62.949219 84.519531 L 62.949219 90.445312 L 0.75 90.445312 Z M 0.75 84.519531 " clip-rule="nonzero"/></clipPath><clipPath id="69707be2fd"><rect x="0" width="63" y="0" height="91"/></clipPath><clipPath id="28c47ada87"><path d="M 891.882812 404.113281 L 1083 404.113281 L 1083 649.648438 L 891.882812 649.648438 Z M 891.882812 404.113281 " clip-rule="nonzero"/></clipPath><clipPath id="4c90c2bd4a"><path d="M 979.773438 553.273438 C 1005.910156 553.273438 1025.871094 547.496094 1039.644531 535.941406 C 1053.421875 524.386719 1060.300781 507.996094 1060.300781 486.746094 C 1060.300781 465.496094 1053.40625 449.105469 1039.644531 437.550781 C 1025.882812 425.996094 1005.910156 420.21875 979.773438 420.21875 L 909.738281 420.21875 L 909.738281 553.273438 Z M 1062.050781 649.210938 L 1003.578125 567.273438 C 994.9375 568.449219 987.003906 569.019531 979.773438 569.019531 L 909.738281 569.019531 L 909.738281 649.199219 L 891.882812 649.199219 L 891.882812 404.113281 L 979.773438 404.113281 C 1010.585938 404.113281 1034.75 411.414062 1052.253906 425.996094 C 1069.761719 440.574219 1078.515625 460.835938 1078.515625 486.746094 C 1078.515625 506.125 1073.554688 522.402344 1063.636719 535.59375 C 1053.71875 548.789062 1039.535156 558.0625 1021.097656 563.429688 L 1082.371094 649.210938 Z M 1062.050781 649.210938 " clip-rule="nonzero"/></clipPath><clipPath id="1e0e3522db"><path d="M 0.882812 0.113281 L 191.4375 0.113281 L 191.4375 245 L 0.882812 245 Z M 0.882812 0.113281 " clip-rule="nonzero"/></clipPath><clipPath id="598054b6e2"><path d="M 88.773438 149.273438 C 114.910156 149.273438 134.871094 143.496094 148.644531 131.941406 C 162.421875 120.386719 169.300781 103.996094 169.300781 82.746094 C 169.300781 61.496094 162.40625 45.105469 148.644531 33.550781 C 134.882812 21.996094 114.910156 16.21875 88.773438 16.21875 L 18.738281 16.21875 L 18.738281 149.273438 Z M 171.050781 245.210938 L 112.578125 163.273438 C 103.9375 164.449219 96.003906 165.019531 88.773438 165.019531 L 18.738281 165.019531 L 18.738281 245.199219 L 0.882812 245.199219 L 0.882812 0.113281 L 88.773438 0.113281 C 119.585938 0.113281 143.75 7.414062 161.253906 21.996094 C 178.761719 36.574219 187.515625 56.835938 187.515625 82.746094 C 187.515625 102.125 182.554688 118.402344 172.636719 131.59375 C 162.71875 144.789062 148.535156 154.0625 130.097656 159.429688 L 191.371094 245.210938 Z M 171.050781 245.210938 " clip-rule="nonzero"/></clipPath><clipPath id="e8f739324a"><rect x="0" width="192" y="0" height="246"/></clipPath><clipPath id="972a73681e"><path d="M 999.796875 713.296875 L 1073.492188 713.296875 L 1073.492188 803.625 L 999.796875 803.625 Z M 999.796875 713.296875 " clip-rule="nonzero"/></clipPath><clipPath id="19cb931ada"><path d="M 1073.207031 713.296875 L 1073.207031 803.445312 L 1067.800781 803.445312 L 1006.367188 725.152344 L 1006.367188 803.445312 L 999.796875 803.445312 L 999.796875 713.296875 L 1005.339844 713.296875 L 1066.636719 791.605469 L 1066.636719 713.296875 Z M 1073.207031 713.296875 " clip-rule="nonzero"/></clipPath><clipPath id="ac61ffef62"><path d="M 0.796875 0.296875 L 74.316406 0.296875 L 74.316406 90.625 L 0.796875 90.625 Z M 0.796875 0.296875 " clip-rule="nonzero"/></clipPath><clipPath id="c0ccae0709"><path d="M 74.207031 0.296875 L 74.207031 90.445312 L 68.800781 90.445312 L 7.367188 12.152344 L 7.367188 90.445312 L 0.796875 90.445312 L 0.796875 0.296875 L 6.339844 0.296875 L 67.636719 78.605469 L 67.636719 0.296875 Z M 74.207031 0.296875 " clip-rule="nonzero"/></clipPath><clipPath id="7d732f47e9"><rect x="0" width="75" y="0" height="91"/></clipPath><clipPath id="f75ac9b5e9"><path d="M 1128.320312 713.296875 L 1199.796875 713.296875 L 1199.796875 719.226562 L 1128.320312 719.226562 Z M 1160.78125 719.226562 L 1167.351562 719.226562 L 1167.351562 803.445312 L 1160.78125 803.445312 Z M 1160.78125 719.226562 " clip-rule="nonzero"/></clipPath><clipPath id="2b94d47402"><path d="M 0.320312 0.296875 L 71.796875 0.296875 L 71.796875 6.226562 L 0.320312 6.226562 Z M 32.78125 6.226562 L 39.351562 6.226562 L 39.351562 90.445312 L 32.78125 90.445312 Z M 32.78125 6.226562 " clip-rule="nonzero"/></clipPath><clipPath id="8e8ab4b1b3"><rect x="0" width="72" y="0" height="91"/></clipPath><clipPath id="5e9236c26e"><path d="M 1118.773438 404.113281 L 1313.101562 404.113281 L 1313.101562 420.21875 L 1118.773438 420.21875 Z M 1207.011719 420.21875 L 1224.863281 420.21875 L 1224.863281 649.210938 L 1207.011719 649.210938 Z M 1207.011719 420.21875 " clip-rule="nonzero"/></clipPath><clipPath id="55863d5763"><path d="M 0.773438 0.113281 L 195.101562 0.113281 L 195.101562 16.21875 L 0.773438 16.21875 Z M 89.011719 16.21875 L 106.863281 16.21875 L 106.863281 245.210938 L 89.011719 245.210938 Z M 89.011719 16.21875 " clip-rule="nonzero"/></clipPath><clipPath id="3c377dc728"><rect x="0" width="196" y="0" height="246"/></clipPath><clipPath id="b85327bf67"><path d="M 1244.101562 712.65625 L 1309.652344 712.65625 L 1309.652344 804.222656 L 1244.101562 804.222656 Z M 1244.101562 712.65625 " clip-rule="nonzero"/></clipPath><clipPath id="b08c15c5b5"><path d="M 1258.074219 800.683594 C 1252.113281 798.402344 1247.449219 795.460938 1244.101562 791.855469 L 1247.066406 786.957031 C 1250.238281 790.304688 1254.515625 793.03125 1259.871094 795.140625 C 1265.230469 797.246094 1270.882812 798.300781 1276.808594 798.300781 C 1285.386719 798.300781 1291.886719 796.675781 1296.261719 793.40625 C 1300.636719 790.132812 1302.832031 785.890625 1302.832031 780.660156 C 1302.832031 776.628906 1301.679688 773.40625 1299.359375 771 C 1297.042969 768.59375 1294.167969 766.75 1290.730469 765.457031 C 1287.296875 764.167969 1282.660156 762.84375 1276.820312 761.464844 C 1270.214844 759.832031 1264.90625 758.242188 1260.914062 756.707031 C 1256.921875 755.167969 1253.523438 752.777344 1250.734375 749.550781 C 1247.945312 746.328125 1246.546875 742.015625 1246.546875 736.609375 C 1246.546875 732.230469 1247.710938 728.214844 1250.027344 724.570312 C 1252.347656 720.925781 1255.894531 718.023438 1260.652344 715.878906 C 1265.414062 713.734375 1271.367188 712.65625 1278.496094 712.65625 C 1283.464844 712.65625 1288.363281 713.386719 1293.175781 714.835938 C 1297.984375 716.289062 1302.136719 718.273438 1305.671875 720.761719 L 1303.21875 726.046875 C 1299.609375 723.554688 1295.640625 721.667969 1291.300781 720.378906 C 1286.964844 719.089844 1282.699219 718.445312 1278.496094 718.445312 C 1270.164062 718.445312 1263.851562 720.117188 1259.5625 723.464844 C 1255.273438 726.8125 1253.128906 731.152344 1253.128906 736.472656 C 1253.128906 740.515625 1254.28125 743.726562 1256.601562 746.128906 C 1258.917969 748.535156 1261.792969 750.382812 1265.230469 751.671875 C 1268.664062 752.960938 1273.335938 754.335938 1279.265625 755.789062 C 1285.871094 757.425781 1291.152344 759.011719 1295.109375 760.550781 C 1299.0625 762.085938 1302.421875 764.429688 1305.214844 767.566406 C 1308.003906 770.703125 1309.402344 774.929688 1309.402344 780.25 C 1309.402344 784.625 1308.226562 788.617188 1305.859375 792.226562 C 1303.488281 795.835938 1299.871094 798.710938 1294.972656 800.855469 C 1290.074219 803 1284.074219 804.078125 1276.945312 804.078125 C 1270.335938 804.078125 1264.039062 802.9375 1258.074219 800.667969 " clip-rule="nonzero"/></clipPath><clipPath id="1972773209"><path d="M 0.101562 0.65625 L 65.433594 0.65625 L 65.433594 92 L 0.101562 92 Z M 0.101562 0.65625 " clip-rule="nonzero"/></clipPath><clipPath id="6889810ad6"><path d="M 14.074219 88.683594 C 8.113281 86.402344 3.449219 83.460938 0.101562 79.855469 L 3.066406 74.957031 C 6.238281 78.304688 10.515625 81.03125 15.871094 83.140625 C 21.230469 85.246094 26.882812 86.300781 32.808594 86.300781 C 41.386719 86.300781 47.886719 84.675781 52.261719 81.40625 C 56.636719 78.132812 58.832031 73.890625 58.832031 68.660156 C 58.832031 64.628906 57.679688 61.40625 55.359375 59 C 53.042969 56.59375 50.167969 54.75 46.730469 53.457031 C 43.296875 52.167969 38.660156 50.84375 32.820312 49.464844 C 26.214844 47.832031 20.90625 46.242188 16.914062 44.707031 C 12.921875 43.167969 9.523438 40.777344 6.734375 37.550781 C 3.945312 34.328125 2.546875 30.015625 2.546875 24.609375 C 2.546875 20.230469 3.710938 16.214844 6.027344 12.570312 C 8.347656 8.925781 11.894531 6.023438 16.652344 3.878906 C 21.414062 1.734375 27.367188 0.65625 34.496094 0.65625 C 39.464844 0.65625 44.363281 1.386719 49.175781 2.835938 C 53.984375 4.289062 58.136719 6.273438 61.671875 8.761719 L 59.21875 14.046875 C 55.609375 11.554688 51.640625 9.667969 47.300781 8.378906 C 42.964844 7.089844 38.699219 6.445312 34.496094 6.445312 C 26.164062 6.445312 19.851562 8.117188 15.5625 11.464844 C 11.273438 14.8125 9.128906 19.152344 9.128906 24.472656 C 9.128906 28.515625 10.28125 31.726562 12.601562 34.128906 C 14.917969 36.535156 17.792969 38.382812 21.230469 39.671875 C 24.664062 40.960938 29.335938 42.335938 35.265625 43.789062 C 41.871094 45.425781 47.152344 47.011719 51.109375 48.550781 C 55.0625 50.085938 58.421875 52.429688 61.214844 55.566406 C 64.003906 58.703125 65.402344 62.929688 65.402344 68.25 C 65.402344 72.625 64.226562 76.617188 61.859375 80.226562 C 59.488281 83.835938 55.871094 86.710938 50.972656 88.855469 C 46.074219 91 40.074219 92.078125 32.945312 92.078125 C 26.335938 92.078125 20.039062 90.9375 14.074219 88.667969 " clip-rule="nonzero"/></clipPath><clipPath id="8aa2358129"><rect x="0" width="66" y="0" height="93"/></clipPath></defs><g clip-path="url(#a7aea2d296)"><path fill="#ffffff" d="M 0 0.078125 L 1326.5 0.078125 L 1326.5 809.921875 L 0 809.921875 Z M 0 0.078125 " fill-opacity="1" fill-rule="nonzero"/></g><g clip-path="url(#44e89ef9c6)"><g transform="matrix(1, 0, 0, 1, 15, 713)"><g clip-path="url(#2cd4bc8312)"><g clip-path="url(#3bef51b6e2)"><path fill="#575b5c" d="M 0.363281 0.296875 L 6.933594 0.296875 L 6.933594 90.453125 L 0.363281 90.453125 Z M 0.363281 0.296875 " fill-opacity="1" fill-rule="nonzero"/></g></g></g></g><g clip-path="url(#2ecb9c7d61)"><g clip-path="url(#6c2cdd6e1d)"><g transform="matrix(1, 0, 0, 1, 13, 402)"><g clip-path="url(#88ec35992f)"><g clip-path="url(#bbf5a2df18)"><g clip-path="url(#64c0fefbdf)"><path fill="#193a64" d="M 0.402344 0.363281 L 177.921875 0.363281 L 177.921875 248.613281 L 0.402344 248.613281 Z M 0.402344 0.363281 " fill-opacity="1" fill-rule="nonzero"/></g></g></g></g></g></g><g clip-path="url(#9e581b23d7)"><g clip-path="url(#1ce641eddb)"><g transform="matrix(1, 0, 0, 1, 92, 713)"><g clip-path="url(#7d3766968d)"><g clip-path="url(#7193426e70)"><g clip-path="url(#72fd82e75a)"><path fill="#575b5c" d="M 0.25 0.296875 L 73.65625 0.296875 L 73.65625 90.335938 L 0.25 90.335938 Z M 0.25 0.296875 " fill-opacity="1" fill-rule="nonzero"/></g></g></g></g></g></g><g clip-path="url(#e27fd92549)"><g clip-path="url(#7fae90bc3d)"><g transform="matrix(1, 0, 0, 1, 219, 713)"><g clip-path="url(#81e51ee4d7)"><g clip-path="url(#7394b204b9)"><g clip-path="url(#314f97784b)"><path fill="#575b5c" d="M 0.875 0.296875 L 87.804688 0.296875 L 87.804688 90.285156 L 0.875 90.285156 Z M 0.875 0.296875 " fill-opacity="1" fill-rule="nonzero"/></g></g></g></g></g></g><g clip-path="url(#f55532105f)"><g transform="matrix(1, 0, 0, 1, 360, 713)"><g clip-path="url(#13d28aca74)"><g clip-path="url(#7deb7ca026)"><path fill="#575b5c" d="M 0.25 0.296875 L 62.457031 0.296875 L 62.457031 90.445312 L 0.25 90.445312 Z M 0.25 0.296875 " fill-opacity="1" fill-rule="nonzero"/></g></g></g></g><g clip-path="url(#e221146232)"><g clip-path="url(#ad7cfda73f)"><g transform="matrix(1, 0, 0, 1, 271, 404)"><g clip-path="url(#31787b5efd)"><g clip-path="url(#7c6f0f8198)"><g clip-path="url(#b2beb1c7e1)"><path fill="#193a64" d="M 0.101562 0.113281 L 249.027344 0.113281 L 249.027344 245.207031 L 0.101562 245.207031 Z M 0.101562 0.113281 " fill-opacity="1" fill-rule="nonzero"/></g></g></g></g></g></g><g clip-path="url(#18b91693fa)"><g clip-path="url(#9b1eb28081)"><g transform="matrix(1, 0, 0, 1, 476, 712)"><g clip-path="url(#e07bc4ec38)"><g clip-path="url(#f8684c24cb)"><g clip-path="url(#404962685b)"><path fill="#575b5c" d="M 0.160156 0.65625 L 65.453125 0.65625 L 65.453125 91.96875 L 0.160156 91.96875 Z M 0.160156 0.65625 " fill-opacity="1" fill-rule="nonzero"/></g></g></g></g></g></g><g clip-path="url(#a5dcc67e61)"><g clip-path="url(#d5e8adca2e)"><g transform="matrix(1, 0, 0, 1, 586, 713)"><g clip-path="url(#91a568471b)"><g clip-path="url(#f815b28a68)"><g clip-path="url(#0e82dff6d6)"><path fill="#575b5c" d="M 0.140625 0.296875 L 71.617188 0.296875 L 71.617188 90.484375 L 0.140625 90.484375 Z M 0.140625 0.296875 " fill-opacity="1" fill-rule="nonzero"/></g></g></g></g></g></g><g clip-path="url(#095dfe3ad2)"><g clip-path="url(#3966f90394)"><g transform="matrix(1, 0, 0, 1, 584, 404)"><g clip-path="url(#a553f6fd46)"><g clip-path="url(#94f8a744f6)"><g clip-path="url(#8702aec191)"><path fill="#af2924" d="M 0.472656 0.113281 L 243.816406 0.113281 L 243.816406 245.359375 L 0.472656 245.359375 Z M 0.472656 0.113281 " fill-opacity="1" fill-rule="nonzero"/></g></g></g></g></g></g><g clip-path="url(#3fd25fc510)"><g clip-path="url(#94c918d9ee)"><g transform="matrix(1, 0, 0, 1, 712, 713)"><g clip-path="url(#7b65255d32)"><g clip-path="url(#0b2a93aecd)"><g clip-path="url(#c5783ee46e)"><path fill="#575b5c" d="M 0.734375 0.300781 L 92.292969 0.300781 L 92.292969 90.449219 L 0.734375 90.449219 Z M 0.734375 0.300781 " fill-opacity="1" fill-rule="nonzero"/></g></g></g></g></g></g><g clip-path="url(#c574c30233)"><g clip-path="url(#3cba7c9c63)"><g transform="matrix(1, 0, 0, 1, 293, 235)"><g clip-path="url(#55985a6758)"><g clip-path="url(#6b649479b7)"><g clip-path="url(#cd7d85af9d)"><rect x="-584.885" width="1910.52" fill="#575b5c" height="1166.39999" y="-413.199998" fill-opacity="1"/></g></g></g></g></g></g><g clip-path="url(#f50726d65a)"><g clip-path="url(#9acb31733f)"><g transform="matrix(1, 0, 0, 1, 411, 6)"><g clip-path="url(#a8ce28af4c)"><g clip-path="url(#9e158738b9)"><g clip-path="url(#d13e669577)"><rect x="-702.885" width="1910.52" fill="#575b5c" height="1166.39999" y="-184.199998" fill-opacity="1"/></g></g></g></g></g></g><g clip-path="url(#cc51db71af)"><g clip-path="url(#eb468a7706)"><g transform="matrix(1, 0, 0, 1, 642, 6)"><g clip-path="url(#f8fdce43a2)"><g clip-path="url(#7ddafc389a)"><g clip-path="url(#bf38608b0f)"><rect x="-933.885" width="1910.52" fill="#575b5c" height="1166.39999" y="-184.199998" fill-opacity="1"/></g></g></g></g></g></g><g clip-path="url(#3e6a1b551c)"><g transform="matrix(1, 0, 0, 1, 874, 713)"><g clip-path="url(#69707be2fd)"><g clip-path="url(#76372d9d39)"><path fill="#575b5c" d="M 0.75 0.296875 L 62.953125 0.296875 L 62.953125 90.449219 L 0.75 90.449219 Z M 0.75 0.296875 " fill-opacity="1" fill-rule="nonzero"/></g></g></g></g><g clip-path="url(#28c47ada87)"><g clip-path="url(#4c90c2bd4a)"><g transform="matrix(1, 0, 0, 1, 891, 404)"><g clip-path="url(#e8f739324a)"><g clip-path="url(#1e0e3522db)"><g clip-path="url(#598054b6e2)"><path fill="#193a64" d="M 0.882812 0.113281 L 191.359375 0.113281 L 191.359375 244.902344 L 0.882812 244.902344 Z M 0.882812 0.113281 " fill-opacity="1" fill-rule="nonzero"/></g></g></g></g></g></g><g clip-path="url(#972a73681e)"><g clip-path="url(#19cb931ada)"><g transform="matrix(1, 0, 0, 1, 999, 713)"><g clip-path="url(#7d732f47e9)"><g clip-path="url(#ac61ffef62)"><g clip-path="url(#c0ccae0709)"><path fill="#575b5c" d="M 0.796875 0.296875 L 74.203125 0.296875 L 74.203125 90.339844 L 0.796875 90.339844 Z M 0.796875 0.296875 " fill-opacity="1" fill-rule="nonzero"/></g></g></g></g></g></g><g clip-path="url(#f75ac9b5e9)"><g transform="matrix(1, 0, 0, 1, 1128, 713)"><g clip-path="url(#8e8ab4b1b3)"><g clip-path="url(#2b94d47402)"><path fill="#575b5c" d="M 0.320312 0.296875 L 71.800781 0.296875 L 71.800781 90.484375 L 0.320312 90.484375 Z M 0.320312 0.296875 " fill-opacity="1" fill-rule="nonzero"/></g></g></g></g><g clip-path="url(#5e9236c26e)"><g transform="matrix(1, 0, 0, 1, 1118, 404)"><g clip-path="url(#3c377dc728)"><g clip-path="url(#55863d5763)"><path fill="#193a64" d="M 0.773438 0.113281 L 195.097656 0.113281 L 195.097656 245.296875 L 0.773438 245.296875 Z M 0.773438 0.113281 " fill-opacity="1" fill-rule="nonzero"/></g></g></g></g><g clip-path="url(#b85327bf67)"><g clip-path="url(#b08c15c5b5)"><g transform="matrix(1, 0, 0, 1, 1244, 712)"><g clip-path="url(#8aa2358129)"><g clip-path="url(#1972773209)"><g clip-path="url(#6889810ad6)"><path fill="#575b5c" d="M 0.101562 0.65625 L 65.398438 0.65625 L 65.398438 91.96875 L 0.101562 91.96875 Z M 0.101562 0.65625 " fill-opacity="1" fill-rule="nonzero"/></g></g></g></g></g></g></svg>
            <h1 class="text-center text-l md:text-2xl font-bold text-[#193A64]">SM<span class="text-[#af2924]">A</span>RT INVESTMENTS <br><span class="text-[#575b5c]">CRE TAX: Focus on TCJA/CARES Act (QIP Fix)</span></h1>
            <div class="text-center text-sm font-medium text-[#2D7DD2]">13101 Kathy Ln<br> 10,540 SF</div>
        </div>
    </header>

    <div class="bg-slate-900 text-white pt-12 pb-20 px-4 relative overflow-hidden">
        <div class="absolute top-0 left-0 w-full h-2 bg-orange-500"></div>
        <div class="max-w-6xl mx-auto grid grid-cols-1 md:grid-cols-2 gap-8 items-center">
            <div>
                <h2 class="text-sky-400 font-bold tracking-wider uppercase mb-2">Real Estate Tax Alpha</h2>
                <h1 class="text-4xl md:text-5xl font-black leading-tight mb-4">
                    Unlocking Capital in<br>
                    <span class="text-transparent bg-clip-text bg-gradient-to-r from-sky-400 to-cyan-300">Industrial Flex Assets</span>
                </h1>
                <p class="text-slate-300 text-lg mb-6">
                    A deep dive into the tax implications of <strong>Tenant Improvements (TI)</strong> and <strong>Qualified Improvement Property (QIP)</strong> for the property at 13101 Kathy Ln, Cypress, TX.
                </p>
                <div class="flex flex-wrap gap-4">
                    <span class="bg-sky-600 px-4 py-2 rounded-full font-bold text-sm">Cypress, TX</span>
                    <span class="bg-orange-500 px-4 py-2 rounded-full font-bold text-sm">Industrial Flex</span>
                    <span class="border border-sky-400 text-sky-400 px-4 py-2 rounded-full font-bold text-sm">Strategy: Cost Segregation</span>
                </div>
            </div>
            <div class="hidden md:block relative">
                <!-- CSS Graphic Representation of a Building -->
                <div class="w-full h-64 bg-white rounded-lg border-2 border-slate-700 relative p-6 flex flex-col content-center card-shadow">
                    <div class="absolute top-4 right-4 text-orange-500 font-black text-6xl opacity-20">NNN</div>
                    <div class="flex justify-center items-center h-full w-full">
                        <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="445" zoomAndPan="magnify" viewBox="0 0 1335 525.000007" height="175" preserveAspectRatio="xMidYMid meet" version="1.0"><defs><clipPath id="314b5c269f"><path d="M 1.269531 0 L 1333.730469 0 L 1333.730469 524 L 1.269531 524 Z M 1.269531 0 " clip-rule="nonzero"/></clipPath><clipPath id="7e00d7e0e2"><path d="M 13.410156 474 L 1322 474 L 1322 505.835938 L 13.410156 505.835938 Z M 13.410156 474 " clip-rule="nonzero"/></clipPath><clipPath id="444269c917"><path d="M 13.75 489.867188 C 122.710938 483.824219 231.671875 479.753906 340.636719 477.707031 C 449.597656 475.210938 558.558594 474.539062 667.519531 474.238281 C 776.480469 474.511719 885.441406 475.1875 994.40625 477.660156 C 1103.367188 479.707031 1212.328125 483.800781 1321.289062 489.867188 C 1212.328125 495.957031 1103.367188 500.023438 994.40625 502.070312 C 885.441406 504.570312 776.480469 505.21875 667.519531 505.492188 C 558.558594 505.191406 449.597656 504.519531 340.636719 502.023438 C 231.671875 499.949219 122.710938 495.90625 13.75 489.867188 " clip-rule="nonzero"/></clipPath><clipPath id="20517f5ac2"><path d="M 0.726562 0.0585938 L 1308.394531 0.0585938 L 1308.394531 31.675781 L 0.726562 31.675781 Z M 0.726562 0.0585938 " clip-rule="nonzero"/></clipPath><clipPath id="0704271f0a"><path d="M 0.75 15.867188 C 109.710938 9.824219 218.671875 5.753906 327.636719 3.707031 C 436.597656 1.210938 545.558594 0.539062 654.519531 0.238281 C 763.480469 0.511719 872.441406 1.1875 981.40625 3.660156 C 1090.367188 5.707031 1199.328125 9.800781 1308.289062 15.867188 C 1199.328125 21.957031 1090.367188 26.023438 981.40625 28.070312 C 872.441406 30.570312 763.480469 31.21875 654.519531 31.492188 C 545.558594 31.191406 436.597656 30.519531 327.636719 28.023438 C 218.671875 25.949219 109.710938 21.90625 0.75 15.867188 " clip-rule="nonzero"/></clipPath><clipPath id="cf839ab71a"><rect x="0" width="1309" y="0" height="32"/></clipPath><clipPath id="6e94124b23"><path d="M 251 12.140625 L 709 12.140625 L 709 490 L 251 490 Z M 251 12.140625 " clip-rule="nonzero"/></clipPath><clipPath id="911de6abcd"><path d="M 708.058594 489.867188 L 708.058594 12.480469 L 251.644531 189.117188 L 251.644531 489.867188 Z M 708.058594 489.867188 " clip-rule="nonzero"/></clipPath><clipPath id="da113786ce"><path d="M 0.59375 0.457031 L 457.164062 0.457031 L 457.164062 477.867188 L 0.59375 477.867188 Z M 0.59375 0.457031 " clip-rule="nonzero"/></clipPath><clipPath id="e46845da41"><path d="M 457.058594 477.867188 L 457.058594 0.480469 L 0.644531 177.117188 L 0.644531 477.867188 Z M 457.058594 477.867188 " clip-rule="nonzero"/></clipPath><clipPath id="f54c3ea85c"><rect x="0" width="458" y="0" height="478"/></clipPath><clipPath id="543b5aedae"><path d="M 716 12.140625 L 990 12.140625 L 990 497 L 716 497 Z M 716 12.140625 " clip-rule="nonzero"/></clipPath><clipPath id="bad7705c1a"><path d="M 717.820312 12.480469 L 717.820312 28.480469 L 973.8125 83.773438 L 973.8125 481.152344 L 717.820312 481.152344 L 717.820312 482.851562 C 717.820312 487.84375 717.320312 492.488281 716.472656 496.804688 L 989.460938 496.804688 L 989.460938 71.144531 Z M 717.820312 12.480469 " clip-rule="nonzero"/></clipPath><clipPath id="d6e35de502"><path d="M 0.308594 0.457031 L 273.625 0.457031 L 273.625 484.8125 L 0.308594 484.8125 Z M 0.308594 0.457031 " clip-rule="nonzero"/></clipPath><clipPath id="d140213e4c"><path d="M 1.820312 0.480469 L 1.820312 16.480469 L 257.8125 71.773438 L 257.8125 469.152344 L 1.820312 469.152344 L 1.820312 470.851562 C 1.820312 475.84375 1.320312 480.488281 0.472656 484.804688 L 273.460938 484.804688 L 273.460938 59.144531 Z M 1.820312 0.480469 " clip-rule="nonzero"/></clipPath><clipPath id="ae3c8c4e1c"><rect x="0" width="274" y="0" height="485"/></clipPath></defs><g clip-path="url(#314b5c269f)"><path fill="#ffffff" d="M 1.269531 0 L 1333.730469 0 L 1333.730469 524 L 1.269531 524 Z M 1.269531 0 " fill-opacity="1" fill-rule="nonzero"/></g><g clip-path="url(#7e00d7e0e2)"><g clip-path="url(#444269c917)"><g transform="matrix(1, 0, 0, 1, 13, 474)"><g clip-path="url(#cf839ab71a)"><g clip-path="url(#20517f5ac2)"><g clip-path="url(#0704271f0a)"><rect x="-306.7" width="1922.4" fill="#575b5c" height="756.00001" y="-589.500002" fill-opacity="1"/></g></g></g></g></g></g><g clip-path="url(#6e94124b23)"><g clip-path="url(#911de6abcd)"><g transform="matrix(1, 0, 0, 1, 251, 12)"><g clip-path="url(#f54c3ea85c)"><g clip-path="url(#da113786ce)"><g clip-path="url(#e46845da41)"><rect x="-544.7" width="1922.4" fill="#575b5c" height="756.00001" y="-127.500002" fill-opacity="1"/></g></g></g></g></g></g><g clip-path="url(#543b5aedae)"><g clip-path="url(#bad7705c1a)"><g transform="matrix(1, 0, 0, 1, 716, 12)"><g clip-path="url(#ae3c8c4e1c)"><g clip-path="url(#d6e35de502)"><g clip-path="url(#d140213e4c)"><rect x="-1009.7" width="1922.4" fill="#575b5c" height="756.00001" y="-127.500002" fill-opacity="1"/></g></g></g></g></g></g></svg>
                    </div>
                    <div class="text-center mt-4 text-slate-400 font-mono text-sm">13101 KATHY LN â€¢ 10,540 SF</div>
                </div>
            </div>
        </div>
     </div>
    

    <!-- MAIN CONTENT CONTAINER -->
    <main class="max-w-6xl mx-auto px-4 -mt-10 relative z-10 pb-20">

        <!-- SECTION 1: THE ASSET SNAPSHOT -->
        <section class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-16">
            <!-- Data Card 1 -->
            <div class="bg-white p-6 rounded-xl card-shadow border-t-4 border-sky-500">
                <h3 class="text-slate-500 text-sm font-bold uppercase mb-1">Acquisition Basis</h3>
                <div class="text-3xl font-black text-slate-900">$1,370,200</div>
                <div class="text-xs text-slate-400 mt-2">Purchase Price (Excludes Closing Costs)</div>
            </div>
            <!-- Data Card 2 -->
            <div class="bg-white p-6 rounded-xl card-shadow border-t-4 border-orange-500">
                <h3 class="text-slate-500 text-sm font-bold uppercase mb-1">Tenant Improvements</h3>
                <div class="text-3xl font-black text-orange-600">$421,600</div>
                <div class="text-xs text-slate-400 mt-2">Capital Injection (The Key Variable)</div>
            </div>
            <!-- Data Card 3 -->
            <div class="bg-white p-6 rounded-xl card-shadow border-t-4 border-sky-500">
                <h3 class="text-slate-500 text-sm font-bold uppercase mb-1">Projected Revenue</h3>
                <div class="text-3xl font-black text-slate-900">$170,748<span class="text-base font-normal text-slate-500">/yr</span></div>
                <div class="text-xs text-slate-400 mt-2">Based on $16.20/SF NNN Market Rent</div>
            </div>
        </section>

        <!-- SECTION 2: THE PROBLEM (Standard Depreciation) -->
        <section class="bg-white rounded-2xl p-8 mb-12 card-shadow">
            <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
                <div class="lg:col-span-1">
                    <h3 class="text-2xl font-bold text-slate-900 mb-4">The "Vanilla" Approach</h3>
                    <p class="text-slate-600 mb-4 leading-relaxed">
                        In a standard accounting scenario, the IRS views commercial real estate as a long-term asset. Both your building and your Tenant Improvements are typically depreciated over a grueling <strong>39 years</strong> using the Straight-Line method.
                    </p>
                    <p class="text-slate-600 mb-4 leading-relaxed">
                        This creates a "slow trickle" of tax deductions that barely makes a dent in your substantial NNN rental income, leaving you with a high taxable income liability in the early years.
                    </p>
                    <div class="bg-slate-100 p-4 rounded-lg border-l-4 border-slate-400">
                        <div class="font-bold text-slate-700">Standard Year 1 Deduction:</div>
                        <div class="text-2xl font-black text-slate-800">~$46,000</div>
                        <div class="text-xs text-slate-500">~2.5% of Total Basis</div>
                    </div>
                </div>
                <div class="lg:col-span-2">
                    <div class="chart-container">
                        <canvas id="standardDepreciationChart"></canvas>
                    </div>
                    <p class="text-center text-xs text-slate-400 mt-2 italic">Standard Straight-Line Depreciation over 39 Years</p>
                </div>
            </div>
        </section>

        <!-- SECTION 3: THE QIP REVOLUTION -->
        <section class="mb-16">
            <div class="text-center mb-10">
                <h2 class="text-3xl font-black text-slate-900">The Accelerator: Qualified Improvement Property (QIP)</h2>
                <div class="w-24 h-1 bg-orange-500 mx-auto mt-4 rounded"></div>
                <p class="max-w-2xl mx-auto mt-4 text-slate-600">
                    Thanks to the CARES Act (correcting the TCJA), internal improvements to non-residential buildings are no longer trapped in the 39-year cycle.
                </p>
            </div>

            <!-- Custom HTML Diagram for QIP Logic -->
            <div class="grid grid-cols-1 md:grid-cols-4 gap-4 items-stretch text-center">
                
                <!-- Step 1 -->
                <div class="bg-white p-6 rounded-lg card-shadow flex flex-col items-center relative">
                    <div class="w-12 h-12 bg-sky-100 text-sky-600 rounded-full flex items-center justify-center font-bold text-xl mb-3">1</div>
                    <h4 class="font-bold text-slate-800">Interior Build-Out?</h4>
                    <p class="text-xs text-slate-500 mt-2">Renovation must be interior to the building.</p>
                </div>

                <!-- Step 2 -->
                <div class="bg-white p-6 rounded-lg card-shadow flex flex-col items-center relative">
                    <div class="w-12 h-12 bg-sky-100 text-sky-600 rounded-full flex items-center justify-center font-bold text-xl mb-3">2</div>
                    <h4 class="font-bold text-slate-800">Non-Residential?</h4>
                    <p class="text-xs text-slate-500 mt-2">Must be commercial (Office, Retail, Industrial Flex).</p>
                </div>

                <!-- Step 3 -->
                <div class="bg-white p-6 rounded-lg card-shadow flex flex-col items-center relative">
                    <div class="w-12 h-12 bg-sky-100 text-sky-600 rounded-full flex items-center justify-center font-bold text-xl mb-3">3</div>
                    <h4 class="font-bold text-slate-800">Not Structural?</h4>
                    <p class="text-xs text-slate-500 mt-2">Excludes elevators, escalators, and internal structural framework.</p>
                </div>

                <!-- Result -->
                <div class="bg-gradient-to-br from-orange-500 to-orange-600 text-white p-6 rounded-lg card-shadow flex flex-col items-center transform md:scale-105 border-2 border-white">
                    <div class="text-3xl mb-2">ðŸš€</div>
                    <h4 class="font-bold text-white text-lg">QIP Status!</h4>
                    <p class="text-sm text-orange-100 mt-2">15-Year Life + Bonus Depreciation Eligible</p>
                </div>

            </div>
        </section>

        <!-- SECTION 4: THE STRATEGY COMPARISON (Plotly & ChartJS) -->
        <section class="grid grid-cols-1 lg:grid-cols-2 gap-8 mb-16">
            
            <!-- Comparison Chart -->
            <div class="bg-white p-6 rounded-xl card-shadow">
                <div class="mb-4 border-b border-slate-100 pb-4">
                    <h3 class="text-xl font-bold text-slate-900">Year 1 Deduction Power</h3>
                    <p class="text-sm text-slate-500">Standard vs. QIP + Cost Segregation (Assuming 60% Bonus)</p>
                </div>
                <div class="chart-container">
                    <canvas id="comparisonChart"></canvas>
                </div>
                <div class="mt-4 bg-sky-50 p-4 rounded text-sm text-sky-800">
                    <strong>Insight:</strong> By reclassifying the $421k TI as QIP and performing a Cost Segregation study on the building, we increase the Year 1 deduction by over <strong>700%</strong>.
                </div>
            </div>

            <!-- Waterfall Chart (Plotly) -->
            <div class="bg-white p-6 rounded-xl card-shadow">
                <div class="mb-4 border-b border-slate-100 pb-4">
                    <h3 class="text-xl font-bold text-slate-900">Deduction Stack (The Math)</h3>
                    <p class="text-sm text-slate-500">Breaking down the components of the Advanced Strategy.</p>
                </div>
                <!-- Plotly Container needs specific IDs -->
                <div id="plotlyWaterfall" class="w-full h-[400px]"></div>
            </div>

        </section>

        <!-- SECTION 5: CASH FLOW IMPACT -->
        <section class="bg-slate-900 rounded-2xl p-8 text-white mb-12 relative overflow-hidden">
            <!-- Decorative background element -->
            <div class="absolute -right-20 -top-20 w-64 h-64 bg-sky-500 opacity-10 rounded-full blur-3xl"></div>

            <div class="grid grid-cols-1 md:grid-cols-3 gap-8 items-center">
                <div class="md:col-span-1">
                    <h3 class="text-2xl font-bold mb-4 text-sky-400">The "Paper Loss" Shield</h3>
                    <p class="text-slate-300 mb-6 leading-relaxed">
                        Advanced depreciation doesn't change your actual cash in the bank (NOI); it changes what you report to the IRS. 
                    </p>
                    <p class="text-slate-300 mb-6 leading-relaxed">
                        With $170k in rental income, the massive Year 1 deduction can drive your <strong>Taxable Net Income negative</strong>, effectively eliminating federal income tax on this cash flow for the first few years.
                    </p>
                    <div class="flex items-center gap-4">
                        <div class="text-4xl font-black text-orange-500">0%</div>
                        <div class="text-sm text-slate-400">Effective Tax Rate<br>on Year 1 Cash Flow</div>
                    </div>
                </div>
                <div class="md:col-span-2">
                    <div class="chart-container">
                        <canvas id="cashFlowChart"></canvas>
                    </div>
                </div>
            </div>
        </section>

        <!-- SECTION 6: SUMMARY TABLE -->
        <section class="mb-12">
            <h3 class="text-2xl font-bold text-slate-900 mb-6">Financial Summary: 13101 Kathy Ln</h3>
            <div class="overflow-x-auto bg-white rounded-lg card-shadow">
                <table class="min-w-full text-left text-sm whitespace-nowrap">
                    <thead class="uppercase tracking-wider border-b-2 border-slate-100 bg-slate-50 text-slate-500 font-bold">
                        <tr>
                            <th scope="col" class="px-6 py-4">Metric</th>
                            <th scope="col" class="px-6 py-4">Standard Strategy</th>
                            <th scope="col" class="px-6 py-4 text-sky-600">Advanced Strategy (QIP)</th>
                        </tr>
                    </thead>
                    <tbody class="divide-y divide-slate-100">
                        <tr>
                            <td class="px-6 py-4 font-medium text-slate-900">Total Eligible Basis</td>
                            <td class="px-6 py-4">$1,517,760</td>
                            <td class="px-6 py-4">$1,517,760</td>
                        </tr>
                        <tr>
                            <td class="px-6 py-4 font-medium text-slate-900">Year 1 Deduction</td>
                            <td class="px-6 py-4 text-red-500 font-bold">$45,946</td>
                            <td class="px-6 py-4 text-green-600 font-bold">$388,420</td>
                        </tr>
                        <tr>
                            <td class="px-6 py-4 font-medium text-slate-900">Taxable Income (Yr 1)</td>
                            <td class="px-6 py-4">$116,264</td>
                            <td class="px-6 py-4 text-sky-600 font-bold">($226,210) LOSS</td>
                        </tr>
                        <tr>
                            <td class="px-6 py-4 font-medium text-slate-900">Tax Savings (@35% Rate)</td>
                            <td class="px-6 py-4">-</td>
                            <td class="px-6 py-4 text-orange-500 font-bold">~$119,866 in Deferred Tax</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </section>
    
 </main>
        <!-- FOOTER -->
        <footer class="bg-[#0f1729] text-white py-2 mt-12">
           <div class="max-w-6xl mx-auto px-4 text-center">
             <p class="mb-4 font-bold text-[#00D4FF]">Advanced Tax Strategy Infographic</p>
            <p class="text-sm text-gray-400">
                Data Sources: IRS.gov, OBBBA Text and others.
            </p>

            <p class="text-xs text-gray-500 mt-4 max-w-2xl mx-auto"> Disclaimer: This visualization is for informational purposes only and does not constitute legal or tax advice. Consult your CPA regarding specific tax elections.</p>
            <div class="max-w-7xl mx-auto px-4 py-0 flex justify-between items-center">
            <div class="text-xs text-gray-400 mt-4 max-w-2xl mx-auto"> &copy; 2025 SM<span class="text-[#af2924]">A</span>RT Investments.</div> <div class="text-xs text-gray-400 mt-4 max-w-2xl mx-auto">ðŸ“§contact@smrtinvestments.com </div>    
            </div>
            </div>
        </footer>

 <!-- SECTION 7: GEMINI TAX CONSULTANT (Floating Panel) -->
    <div id="ai-panel" class="collapsed">
        <!-- Header/Toggle Bar -->
        <div id="ai-panel-header" class="p-3 bg-slate-50 rounded-t-[7px] cursor-pointer flex justify-between items-center select-none" onclick="togglePanel()">
            <h3 class="text-lg font-bold text-slate-900 flex items-center">
                <span class="mr-2 text-orange-500">âœ¨</span> Tax LLM Consultant
            </h3>
            <span id="toggle-icon" class="text-xl text-sky-600 transform transition duration-300 rotate-180">â–²</span>
        </div>

        <!-- Content Area -->
        <div id="ai-panel-content" class="p-4 flex flex-col overflow-y-auto" style="height: 100%; box-sizing: border-box;">
            <p class="text-slate-600 text-sm mb-4">
                Get grounded, real-time answers about QIP, Bonus Depreciation, or Cost Segregation.
            </p>

            <!-- Input -->
            <div class="flex flex-col gap-2 mb-4">
                <input type="text" id="taxQueryInput" placeholder="e.g., What is the 2024 Bonus rate?" 
                       class="p-2 text-sm border border-slate-300 rounded focus:ring-sky-500 focus:border-sky-500">
                <button id="askTaxButton" 
                        class="bg-orange-500 text-white font-bold py-2 px-4 rounded hover:bg-orange-600 transition duration-150 active:scale-[0.98] disabled:opacity-50 flex items-center justify-center text-sm">
                    <span id="buttonText">Analyze Tax Implication âœ¨</span>
                </button>
            </div>

            <!-- Output -->
            <div id="taxResponseArea" class="mt-2 border border-slate-200 rounded p-3 bg-slate-50 relative flex-grow min-h-[100px]">
                <div id="loadingIndicator" class="hidden text-center text-sky-600 font-semibold py-4 text-sm">
                    Analyzing current tax law...
                </div>
                <p id="responseText" class="text-slate-700 text-sm">Type your tax question above and click the button to get a grounded answer from our consultant model.</p>
                <div id="citationArea" class="mt-4 text-xs text-slate-500"></div>
            </div>
        </div>
    </div>


    <!-- JAVASCRIPT LOGIC -->
    <script>
        // --- DATA CONSTANTS ---
        const purchasePrice = 1370200;
        const tenantImprovements = 421600;
        const totalBasis = purchasePrice + tenantImprovements;
        
        // Assumptions
        const landValueRatio = 0.20;
        const landValue = purchasePrice * landValueRatio;
        const buildingBasis = purchasePrice - landValue;
        
        // Rental Income
        const annualRent = 170748;
        const expenses = 8500; // Minimal since NNN, mostly vacancy allowance/reserves
        const noi = annualRent - expenses;

        // --- SECURE LLM CONFIGURATION ---
const apiUrl = '/api/chat';
        
        // --- DOM ELEMENTS ---
        const aiPanel = document.getElementById('ai-panel');
        const toggleIcon = document.getElementById('toggle-icon');
        const taxQueryInput = document.getElementById('taxQueryInput');
        const askTaxButton = document.getElementById('askTaxButton');
        const buttonText = document.getElementById('buttonText');
        const loadingIndicator = document.getElementById('loadingIndicator');
        const responseText = document.getElementById('responseText');
        const citationArea = document.getElementById('citationArea');

        // --- PANEL TOGGLE FUNCTION ---
        window.togglePanel = function() {
            const isCollapsed = aiPanel.classList.toggle('collapsed');
            if (isCollapsed) {
                toggleIcon.style.transform = 'rotate(0deg)';
                aiPanel.style.maxHeight = '50px';
            } else {
                toggleIcon.style.transform = 'rotate(180deg)';
                aiPanel.style.maxHeight = '80vh';
            }
        };
        
        // --- UTILITY FUNCTIONS ---
        
        // Requirement: Wrap labels > 16 chars
        function wrapLabel(str, maxLen = 16) {
            if (str.length <= maxLen) return str;
            const words = str.split(' ');
            const lines = [];
            let currentLine = words[0];

            for (let i = 1; i < words.length; i++) {
                if ((currentLine + " " + words[i]).length <= maxLen) {
                    currentLine += " " + words[i];
                } else {
                    lines.push(currentLine);
                    currentLine = words[i];
                }
            }
            lines.push(currentLine);
            return lines;
        }

        /**
      * Fetches a response from your secure Vercel backend.
      */
     async function fetchGeminiResponse(query, maxRetries = 3) {
         // We send only the query. The backend handles the System Prompt and Tools.
         const payload = { query: query };

         for (let i = 0; i < maxRetries; i++) {
             try {
                 const response = await fetch(apiUrl, {
                     method: 'POST',
                     headers: { 'Content-Type': 'application/json' },
                     body: JSON.stringify(payload)
                 });

                 if (!response.ok) {
                     // Handle rate limits or server errors
                     throw new Error(`Server error: ${response.status}`);
                 }

                 return response.json();

             } catch (error) {
                 console.error("Attempt failed:", error);
                 if (i === maxRetries - 1) throw error;
                 // Simple wait before retry
                 await new Promise(resolve => setTimeout(resolve, 1000 * (i + 1))); 
           }
       }
    }

        // --- EVENT HANDLER ---

        askTaxButton.addEventListener('click', async () => {
            const query = taxQueryInput.value.trim();
            if (!query) {
                responseText.textContent = "Please enter a question to analyze.";
                citationArea.innerHTML = "";
                return;
            }

            // Set loading state
            askTaxButton.disabled = true;
            buttonText.textContent = 'Analyzing...';
            loadingIndicator.classList.remove('hidden');
            responseText.textContent = '';
            citationArea.innerHTML = '';

            try {
                const result = await fetchGeminiResponse(query);
                const candidate = result.candidates?.[0];

                if (candidate && candidate.content?.parts?.[0]?.text) {
                    const text = candidate.content.parts[0].text;
                    responseText.textContent = text;

                    // Extract and display grounding sources
                    let sources = [];
                    const groundingMetadata = candidate.groundingMetadata;
                    if (groundingMetadata && groundingMetadata.groundingAttributions) {
                        sources = groundingMetadata.groundingAttributions
                            .map(attribution => ({
                                uri: attribution.web?.uri,
                                title: attribution.web?.title,
                            }))
                            .filter(source => source.uri && source.title);
                    }

                    if (sources.length > 0) {
                        const sourceHtml = sources.map((s, index) => 
                            `<a href="${s.uri}" target="_blank" class="text-sky-600 hover:text-sky-700 underline">${index + 1}. ${s.title}</a>`
                        ).join(' | ');
                        citationArea.innerHTML = `<strong>Sources:</strong> ${sourceHtml}`;
                    } else {
                         citationArea.innerHTML = `<em>Note: No specific citations found for this query.</em>`;
                    }
                    
                } else {
                    responseText.textContent = "Error: Could not retrieve a valid response from the tax consultant model.";
                }

            } catch (error) {
                console.error("Gemini API Error:", error);
                responseText.textContent = `A technical error occurred while consulting the model. Details: ${error.message}`;
                citationArea.innerHTML = "";
            } finally {
                // Reset state
                askTaxButton.disabled = false;
                buttonText.textContent = 'Analyze Tax Implication âœ¨';
                loadingIndicator.classList.add('hidden');
            }
        });


        // --- COMMON CHART OPTIONS ---
        const commonOptions = {
            responsive: true,
            maintainAspectRatio: false,
            plugins: {
                tooltip: {
                    backgroundColor: 'rgba(15, 23, 42, 0.9)',
                    titleColor: '#f97316',
                    bodyColor: '#fff',
                    padding: 10,
                    cornerRadius: 8,
                    callbacks: {
                        title: function(tooltipItems) {
                            const item = tooltipItems[0];
                            let label = item.chart.data.labels[item.dataIndex];
                            if (Array.isArray(label)) {
                                return label.join(' ');
                            } else {
                                return label;
                            }
                        }
                    }
                },
                legend: {
                    position: 'bottom',
                    labels: {
                        font: { family: 'Roboto', size: 12 },
                        color: '#475569'
                    }
                }
            }
        };

        // --- CHART 1: STANDARD DEPRECIATION (Line) ---
        // Goal: Show the slow, straight line.
        const ctxStandard = document.getElementById('standardDepreciationChart').getContext('2d');
        const years = Array.from({length: 10}, (_, i) => `Year ${i + 1}`);
        const annualDepreciationStandard = (buildingBasis + tenantImprovements) / 39; // ~$38,916
        const standardData = new Array(10).fill(annualDepreciationStandard);

        new Chart(ctxStandard, {
            type: 'bar',
            data: {
                labels: years,
                datasets: [{
                    label: 'Standard Deduction',
                    data: standardData,
                    backgroundColor: '#cbd5e1',
                    borderRadius: 4
                }]
            },
            options: {
                ...commonOptions,
                scales: {
                    y: {
                        beginAtZero: true,
                        max: 400000, // Fixed max to show scale comparison with later charts visually
                        title: { display: true, text: 'Deduction Amount ($)' }
                    }
                }
            }
        });

        // --- CHART 2: COMPARISON (Bar) ---
        // Goal: Compare Year 1 Impact
        
        const ctxComparison = document.getElementById('comparisonChart').getContext('2d');
        
        // Labels requiring wrapping
        const labelsComp = ['Standard Straight Line', 'Advanced (QIP + Bonus)'];
        const processedLabelsComp = labelsComp.map(l => wrapLabel(l, 16));

        new Chart(ctxComparison, {
            type: 'bar',
            data: {
                labels: processedLabelsComp,
                datasets: [{
                    label: 'Year 1 Tax Deduction',
                    data: [45946, 388420],
                    backgroundColor: ['#94a3b8', '#0ea5e9'],
                    borderRadius: 8,
                    barThickness: 50
                }]
            },
            options: {
                ...commonOptions,
                plugins: {
                    ...commonOptions.plugins,
                    legend: { display: false }
                }
            }
        });

        // --- CHART 3: PLOTLY WATERFALL ---
        // Goal: Break down the Advanced Strategy Year 1 Deduction
        
        const traceWaterfall = {
            name: "Deduction Stack",
            type: "waterfall",
            orientation: "v",
            measure: ["relative", "relative", "relative", "total"],
            x: [
                ["Building", "Base Depr"], 
                ["TI (QIP)", "Bonus Depr"], 
                ["Building", "Cost Seg Bonus"], 
                ["Total", "Year 1"]
            ], // Simple labels for Plotly
            textposition: "outside",
            text: ["$22k", "+$264k", "+$102k", "$388k"],          
            y: [22485, 264202, 101733, 0], // Logic: Base Building + TI Impact + Segregation Impact
            connector: {
                line: {
                    color: "rgb(63, 63, 63)"
                }
            },
            decreasing: { marker: { color: "#f97316" } },
            increasing: { marker: { color: "#0ea5e9" } },
            totals: { marker: { color: "#0f172a" } }
        };

        const layoutWaterfall = {
            title: {
                text: "Anatomy of the Deduction",
                font: { family: 'Roboto', size: 18, color: '#0f172a' }
            },
            xaxis: {
                type: 'category',
                tickfont: { family: 'Roboto' }
            },
            yaxis: {
                title: { text: 'Deduction Amount ($)' },
                type: 'linear'
            },
            autosize: true,
            margin: { l: 50, r: 20, t: 50, b: 50 },
            paper_bgcolor: 'rgba(0,0,0,0)',
            plot_bgcolor: 'rgba(0,0,0,0)',
            font: { family: 'Roboto' }
        };
        
        // Plotly Config to use WebGL/Canvas concepts where applicable and Avoid SVG download buttons
        const configWaterfall = {
            responsive: true,
            displayModeBar: false,
            renderer: 'canvas' // Encouraging canvas rendering
        };

        Plotly.newPlot('plotlyWaterfall', [traceWaterfall], layoutWaterfall, configWaterfall);


        // --- CHART 4: CASH FLOW VS TAXABLE INCOME (Line/Area) ---
        // Goal: Show how Income stays high but Taxable Income drops below zero
        
        const ctxCashFlow = document.getElementById('cashFlowChart').getContext('2d');
        
        // Data Generation
        // Net Cash Flow (NOI) - assume 2% growth
        const cashFlowData = [162248, 165492, 168801, 172177, 175620];
        // Taxable Income (NOI - Interest(ignored for simplicity) - Depreciation)
        const taxableIncomeData = [-226210, 12000, 15000, 18000, 21000]; 
        const labelsCF = ['Year 1', 'Year 2', 'Year 3', 'Year 4', 'Year 5'];

        new Chart(ctxCashFlow, {
            type: 'line',
            data: {
                labels: labelsCF,
                datasets: [
                    {
                        label: 'Net Operating Income (Cash in Hand)',
                        data: cashFlowData,
                        borderColor: '#22c55e', // Green
                        backgroundColor: '#22c55e',
                        borderWidth: 3,
                        tension: 0.3,
                        yAxisID: 'y'
                    },
                    {
                        label: 'Taxable Income (Reported to IRS)',
                        data: taxableIncomeData,
                        borderColor: '#f97316', // Orange
                        backgroundColor: 'rgba(249, 115, 22, 0.1)',
                        borderWidth: 3,
                        borderDash: [5, 5],
                        fill: true,
                        tension: 0.3,
                        yAxisID: 'y'
                    }
                ]
            },
            options: {
                ...commonOptions,
                scales: {
                    y: {
                        beginAtZero: false,
                        grid: { color: '#334155' }, // Dark grid for dark mode chart
                        ticks: { color: '#cbd5e1' }
                    },
                    x: {
                        grid: { color: '#334155' },
                        ticks: { color: '#cbd5e1' }
                    }
                },
                plugins: {
                    ...commonOptions.plugins,
                    legend: {
                        labels: { color: '#fff' }
                    },
                    tooltip: {
                        ...commonOptions.plugins.tooltip,
                        backgroundColor: '#fff',
                        titleColor: '#0f172a',
                        bodyColor: '#0f172a'
                    }
                }
            }
        });

    </script>
</body>
</html>